security:
  enabled: false   # feature-flag flip to true when the client is ready
spring:
  application:
    name: C&A Civil Claims Stub API 
  datasource:
    driver-class-name: org.postgresql.Driver
    # Prefer DB_ENDPOINT (e.g. "host:5439"); otherwise fall back to host + port
    url: jdbc:postgresql://${DB_ENDPOINT:${DB_HOST:localhost}:${DB_PORT:5432}}/${DB_NAME:claims}?sslmode=${DB_SSLMODE:disable}
    username: ${SPRING_DATASOURCE_USERNAME:sa}
    password: ${SPRING_DATASOURCE_PASSWORD:password}
  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate.dialect: org.hibernate.dialect.PostgreSQLDialect
  flyway:
    enabled: true
    locations: classpath:db/migration

  profiles:
    # Profile groups let you turn on multiple profiles with one name
    group:
      docker: "local,h2"
      local-entra: "local_entra,h2"
      local-postgres: "local"
      local-h2: "local,h2"           # Local by default uses H2
      uat: "uat,postgres"         # UAT = Postgres + UAT tweaks
    default: local-h2

# used by actuator info endpoint
info:
  app:
    name: LAA Civil Claims Data Stewardship Stub
    description: Not real
    version: 1.0.0

management:
  # specify actuator endpoints to enable
  endpoints:
    web:
      exposure:
        include: health,info

  # show detailed health status
  endpoint:
    health:
      show-details: always

  info:
    env:
      enabled: true

logging.level.root: INFO